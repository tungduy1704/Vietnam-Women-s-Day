<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ChÃºc má»«ng NgaÌ€y PhuÌ£ nÆ°Ìƒ ViÃªÌ£t Nam ğŸ’–</title>

  <!-- Open Graph cho Zalo/Facebook preview (Äá»”I og:image sang áº£nh tháº­t trong repo cá»§a báº¡n) -->
  <meta property="og:title" content="ğŸ’– Lá»i chÃºc 20/10 dÃ nh riÃªng cho báº¡n" />
  <meta property="og:description" content="ChÃºc báº¡n luÃ´n ráº¡ng rá»¡, háº¡nh phÃºc vÃ  Ä‘Æ°á»£c yÃªu thÆ°Æ¡ng má»—i ngÃ y!" />
  <meta property="og:image" content="https://tungduy1704.github.io/Vietnam-Women-s-Day/og-image.jpg" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tungduy1704.github.io/Vietnam-Women-s-Day/wish.html" />

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      min-height:100vh;
      background: linear-gradient(135deg,#ff6b9d 0%, #c06c84 50%, #6c5b7b 100%);
      color:#fff; overflow-x:hidden; position:relative;
      display:flex; align-items:center; justify-content:center; padding:28px;
    }
    .card{
      width:min(720px,100%); background:rgba(255,255,255,.95); color:#422a3a;
      border-radius:28px; padding:40px 28px; box-shadow:0 24px 70px rgba(0,0,0,.35);
      backdrop-filter: blur(10px); position:relative; z-index:2;
      animation: rise .7s ease-out both;
    }
    @keyframes rise{from{opacity:0; transform:translateY(18px)} to{opacity:1; transform:none}}
    h1{font-size:2.2rem; text-align:center; color:#c2185b; margin-bottom:10px}
    .badge{display:block; text-align:center; margin:0 auto 22px; padding:10px 22px;
      border-radius:999px; background:#ffe5f0; color:#c2185b; font-weight:700; width:max-content}
    p.lead{font-size:1.15rem; text-align:center; color:#5a3b4b; margin-bottom:18px; font-style:italic}
    ul{list-style:none; display:grid; gap:12px; margin:14px 0}
    li{
      background:linear-gradient(135deg,#ffeef8 0%, #ffe5f0 100%);
      padding:14px 16px; border-radius:14px; display:flex; gap:12px; align-items:flex-start;
      box-shadow:0 6px 20px rgba(233,30,99,.18)
    }
    .closing{
      margin-top:18px; text-align:center; font-weight:700;
      background:linear-gradient(135deg,#e91e63 0%, #c2185b 100%);
      color:#fff; padding:14px; border-radius:16px; box-shadow:0 12px 26px rgba(233,30,99,.35)
    }
    .flowers{font-size:2rem; text-align:center; margin-top:18px}
    .flower{position:fixed; top:-50px; font-size:28px; animation:fall linear infinite; opacity:.9; z-index:1}
    @keyframes fall{to{transform:translateY(100vh) rotate(360deg)}}
    @media (max-width:520px){ h1{font-size:1.7rem} .card{padding:28px 18px} }

    /* NÃºt phÃ¡t nháº¡c ná»•i */
    .play-btn{
      position:fixed; right:16px; bottom:16px;
      padding:12px 18px; border:0; border-radius:999px;
      background:#c2185b; color:#fff; font-weight:700; cursor:pointer;
      box-shadow:0 8px 24px rgba(194,24,91,.4); z-index:3;
      transition:transform .15s;
    }
    .play-btn:active{ transform:scale(.95) }

    /* Overlay yÃªu cáº§u báº¥m (khi autoplay bá»‹ cháº·n) */
    .gate{
      position:fixed; inset:0; background:rgba(0,0,0,.55);
      display:none; align-items:center; justify-content:center; z-index:4;
      padding:24px; text-align:center;
    }
    .gate .panel{
      background:#ffffff; color:#4a2c3c; border-radius:20px; padding:22px 18px; width:min(440px,92%);
      box-shadow:0 16px 50px rgba(0,0,0,.35)
    }
    .gate .panel h3{margin-bottom:8px; color:#c2185b}
    .gate .panel p{margin-bottom:14px}
    .gate .panel button{
      padding:12px 16px; border-radius:999px; border:0; background:#c2185b; color:#fff; font-weight:700; cursor:pointer;
    }

    /* Thanh gá»£i Ã½ má»Ÿ ngoÃ i trÃ¬nh duyá»‡t (há»¯u Ã­ch khi á»Ÿ trong in-app webview) */
    .open-external {
      position:fixed; left:50%; transform:translateX(-50%);
      top:10px; z-index:5; background:rgba(255,255,255,.95); color:#4a2c3c;
      border-radius:999px; padding:8px 14px; font-size:.9rem; box-shadow:0 6px 20px rgba(0,0,0,.2);
      display:none;
    }
    .open-external a{ color:#c2185b; font-weight:700; text-decoration:none }
  </style>
</head>
<body>
  <!-- Nháº¡c ná»n (Ä‘áº·t file mp3 cÃ¹ng thÆ° má»¥c vá»›i wish.html) -->
  <audio id="bgm" preload="auto"
  src="https://tungduy1704.github.io/Vietnam-Women-s-Day/cheerful-joyful-playful-music-399359.mp3"
  playsinline></audio>

  <!-- NÃºt nhá» á»Ÿ gÃ³c Ä‘á»ƒ phÃ¡t/Ä‘á»•i tráº¡ng thÃ¡i -->
  <button id="play" class="play-btn" aria-label="PhÃ¡t nháº¡c ná»n">ğŸ”ˆ PhÃ¡t nháº¡c</button>

  <!-- Gá»£i Ã½ má»Ÿ ngoÃ i trÃ¬nh duyá»‡t -->
  <div id="ext" class="open-external">
    Náº¿u khÃ´ng nghe nháº¡c, hÃ£y <a id="openExternal" href="#" rel="noopener">má»Ÿ báº±ng trÃ¬nh duyá»‡t ngoÃ i</a>.
  </div>

  <!-- Overlay yÃªu cáº§u cháº¡m khi autoplay bá»‹ cháº·n -->
  <div id="gate" class="gate" role="dialog" aria-modal="true" aria-label="Nháº¥n Ä‘á»ƒ báº­t nháº¡c">
    <div class="panel">
      <h3>ğŸ¶ Nháº¥n Ä‘á»ƒ báº­t nháº¡c</h3>
      <p>TrÃ¬nh duyá»‡t Ä‘Ã£ cháº·n phÃ¡t tá»± Ä‘á»™ng. Cháº¡m nÃºt bÃªn dÆ°á»›i Ä‘á»ƒ nghe nháº¡c ná»n.</p>
      <button id="gateBtn">Báº­t nháº¡c</button>
    </div>
  </div>

  <!-- hiá»‡u á»©ng hoa rÆ¡i -->
  <script>
    const emojis=['ğŸŒ¹','ğŸŒ¸','ğŸŒº','ğŸŒ·','ğŸŒ»','ğŸ’','ğŸŒ¼','ğŸ’®'];
    function drop(){const f=document.createElement('div'); f.className='flower';
      f.textContent=emojis[Math.random()*emojis.length|0];
      f.style.left=Math.random()*100+'%'; f.style.animationDuration=(5+Math.random()*3)+'s';
      f.style.animationDelay=(Math.random()*1.5)+'s'; document.body.appendChild(f);
      setTimeout(()=>f.remove(),8000);}
    setInterval(drop,300); for(let i=0;i<10;i++) setTimeout(drop,i*180);
  </script>

  <!-- Ná»™i dung thiá»‡p -->
  <main class="card" role="main" aria-label="Lá»i chÃºc 20/10">
    <h1>ğŸ’– ChÃºc Má»«ng NgaÌ€y PhuÌ£ nÆ°Ìƒ ViÃªÌ£t Nam ğŸ’–</h1>
    <span class="badge">20 â€¢ 10 â€¢ 2025</span>
    <p class="lead">KÃ­nh gá»­i ngÆ°á»i phá»¥ ná»¯ tuyá»‡t vá»i â€” chÃºc báº¡n luÃ´n ráº¡ng rá»¡, háº¡nh phÃºc vÃ  Ä‘Æ°á»£c yÃªu thÆ°Æ¡ng má»—i ngÃ y!</p>
    <ul>
      <li>ğŸŒ¸ <div><b>Váº» Ä‘áº¹p ráº¡ng rá»¡:</b> MÃ£i tÆ°Æ¡i tráº», ráº¡ng ngá»i vá»›i ná»¥ cÆ°á»i luÃ´n ná»Ÿ trÃªn mÃ´i.</div></li>
      <li>ğŸ’ª <div><b>Sá»©c máº¡nh ná»™i tÃ¢m:</b> Vá»¯ng vÃ ng, tá»± tin vÃ  lÃ  nguá»“n cáº£m há»©ng cho má»i ngÆ°á»i.</div></li>
      <li>âœ¨ <div><b>ThÃ nh cÃ´ng bá»n vá»¯ng:</b> Gáº·t hÃ¡i thÃ nh tá»±u xá»©ng Ä‘Ã¡ng vá»›i ná»— lá»±c khÃ´ng ngá»«ng.</div></li>
      <li>â¤ï¸ <div><b>Háº¡nh phÃºc viÃªn mÃ£n:</b> Gia Ä‘Ã¬nh áº¥m Ã¡p, tÃ¬nh yÃªu bá»n vá»¯ng, luÃ´n Ä‘Æ°á»£c trÃ¢n trá»ng.</div></li>
      <li>ğŸŒŸ <div><b>Lan tá»a tÃ­ch cá»±c:</b> Mang yÃªu thÆ°Æ¡ng vÃ  niá»m vui Ä‘áº¿n má»i nÆ¡i báº¡n Ä‘áº¿n.</div></li>
    </ul>
    <div class="closing">ğŸ’ ChÃºc báº¡n má»™t ngÃ y 20/10 tháº­t Ã½ nghÄ©a vÃ  trá»n váº¹n! ğŸ’</div>
    <div class="flowers">ğŸŒ¹ ğŸŒ¸ ğŸŒº ğŸŒ· ğŸŒ»</div>
  </main>

  <!-- Script phÃ¡t nháº¡c: autoplay má»“i + fallback thÃ¢n thiá»‡n webview -->
  <script>
    const bgm      = document.getElementById('bgm');
    const playBtn  = document.getElementById('play');
    const gate     = document.getElementById('gate');
    const gateBtn  = document.getElementById('gateBtn');
    const extBar   = document.getElementById('ext');
    const openExt  = document.getElementById('openExternal');

    // PhÃ¡t thá»­ Ä‘á»ƒ "unmute" trÃªn iOS: play muted rá»“i pause
    function primeIOSAudio(){
      try{
        bgm.muted = true;
        const p = bgm.play();
        if (p && typeof p.then === 'function'){
          p.then(()=>{
            bgm.pause();
            bgm.currentTime = 0;
            bgm.muted = false;
          }).catch(()=>{ bgm.muted = false; });
        } else {
          bgm.muted = false;
        }
      }catch(_){}
    }

    function isInAppWebView(){
      const ua = navigator.userAgent.toLowerCase();
      // nháº­n diá»‡n nhanh má»™t sá»‘ webview phá»• biáº¿n (Zalo/FB/Insta/TikTok)
      return /zalo|fbav|fb_iab|line|instagram|tiktok|micromessenger/.test(ua);
    }

    function showGate(show=true){ gate.style.display = show ? 'flex' : 'none'; }
    function setPlayingUI(playing){
      playBtn.textContent = playing ? 'ğŸ”Š Äang phÃ¡t' : 'ğŸ”ˆ PhÃ¡t nháº¡c';
    }

    async function tryPlay(){
      try{
        bgm.volume = 0.35;
        bgm.loop   = true;
        await bgm.play();
        setPlayingUI(true);
        showGate(false);
        return true;
      }catch(e){
        setPlayingUI(false);
        showGate(true);
        return false;
      }
    }

    function openInExternalBrowser(e){
      e.preventDefault();
      // má»Ÿ tab má»›i; nhiá»u in-app webview sáº½ há»i chuyá»ƒn sang trÃ¬nh duyá»‡t ngoÃ i
      window.open(location.href, '_blank', 'noopener,noreferrer');
    }

  document.addEventListener('DOMContentLoaded', async () => {
    primeIOSAudio();

    const inWebView = isInAppWebView();

    // Gá»£i Ã½ má»Ÿ ngoÃ i náº¿u nghi á»Ÿ webview
    if (inWebView){
      extBar.style.display = 'block';
      openExt.addEventListener('click', openInExternalBrowser);
      // Ã‰p yÃªu cáº§u cháº¡m ngay, trÃ¡nh autoplay tháº¥t báº¡i Ã¢m tháº§m
      setPlayingUI(false);
      showGate(true);
      // Ä‘Äƒng kÃ½ gesture Ä‘á»ƒ phÃ¡t khi ngÆ°á»i dÃ¹ng cháº¡m/phÃ­m
      const oncePlay = async () => { await tryPlay(); cleanup(); };
      const cleanup  = () => {
        ['pointerdown','touchstart','keydown','click'].forEach(ev=>document.removeEventListener(ev, oncePlay));
      };
      ['pointerdown','touchstart','keydown','click'].forEach(ev=>document.addEventListener(ev, oncePlay, { once:true }));
      return;
    }

    // TrÆ°á»ng há»£p má»Ÿ báº±ng trÃ¬nh duyá»‡t tháº­t: thá»­ autoplay trÆ°á»›c
    const ok = await tryPlay();
    if (!ok){
      const oncePlay = async () => { await tryPlay(); cleanup(); };
      const cleanup  = () => {
        ['pointerdown','touchstart','keydown','click'].forEach(ev=>document.removeEventListener(ev, oncePlay));
      };
      ['pointerdown','touchstart','keydown','click'].forEach(ev=>document.addEventListener(ev, oncePlay, { once:true }));
    }
  });
</script>
</body>
</html>


